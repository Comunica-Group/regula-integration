{"ast":null,"code":"var _jsxFileName = \"/Users/estebansamayoa/regula-integration/src/app.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { initialize } from './actions';\nimport comunica from './Comunica.png';\nimport './app.css';\nimport { defineComponents, DocumentReaderService } from '@regulaforensics/vp-frontend-document-components';\nimport { DocumentReaderApi, Result, Scenario, Source, TextFieldType, GraphicFieldType, Light, SecurityFeatureType } from '@regulaforensics/document-reader-webclient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  PORTRAIT,\n  DOCUMENT_FRONT\n} = GraphicFieldType;\nconst {\n  DOCUMENT_NUMBER,\n  GIVEN_NAMES,\n  SURNAME\n} = TextFieldType;\nconst regula_license = process.env.REACT_APP_REGULA_LICENSE;\nconst apiBasePath = process.env.REACT_APP_BASE_PATH;\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.listener = async event => {\n      if (event.detail.action === 'PROCESS_FINISHED' && event.detail.data.status === 1) {\n        const response = event.detail.data.response;\n        const image_container = response.lowLvlResponse.ContainerList.List[0].RawImageContainer;\n        const image_format = image_container.format;\n        const image = image_container.image;\n        const api = new DocumentReaderApi({\n          basePath: apiBasePath\n        });\n        api.setLicense(regula_license);\n        const serverInfo = await api.ping();\n        const request = {\n          images: [{\n            ImageData: image,\n            light: Light.WHITE,\n            page_idx: 0\n          }],\n          processParam: {\n            scenario: Scenario.FULL_AUTH,\n            resultTypeOutput: [\n            // actual results\n            Result.STATUS, Result.AUTHENTICITY, Result.TEXT, Result.IMAGES, Result.DOCUMENT_TYPE, Result.DOCUMENT_TYPE_CANDIDATES, Result.IMAGE_QUALITY,\n            // legacy results\n            Result.MRZ_TEXT, Result.VISUAL_TEXT, Result.BARCODE_TEXT, Result.RFID_TEXT, Result.VISUAL_GRAPHICS, Result.BARCODE_GRAPHICS, Result.RFID_GRAPHICS, Result.LEXICAL_ANALYSIS]\n          }\n        };\n        const responseProcessed = await api.process(request);\n\n        // Process the response and set the state accordingly\n      }\n    };\n    this.convertUint8ArrayToBase64 = uint8Array => {\n      const binaryString = String.fromCharCode.apply(null, uint8Array);\n      return btoa(binaryString);\n    };\n    this.state = {\n      serverVersion: null,\n      docOverallStatus: null,\n      docNumberVisual: null,\n      Name: null,\n      LastName: null,\n      docNumberMrz: null,\n      docNumberVisualValidity: null,\n      docNumberMrzValidity: null,\n      docNumberMrzVisualMatching: null,\n      documentImageBase64: null,\n      portraitImageBase64: null,\n      activeTab: 'DocumentReader'\n    };\n    this.listener = this.listener.bind(this);\n  }\n  componentDidMount() {\n    this.props.initialize();\n  }\n  componentDidUpdate() {\n    const component = document.querySelector('document-reader');\n    if (component) {\n      component.addEventListener('document-reader', this.listener);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"App-logo\",\n          src: comunica,\n          alt: \"Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"ID Verification Demo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.setState({\n            activeTab: 'DocumentReader'\n          }),\n          children: \"Document Reader\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.setState({\n            activeTab: 'FaceSDK'\n          }),\n          children: \"Face SDK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), this.state.activeTab === 'DocumentReader' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"document-reader\", {\n          \"start-screen\": true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), this.state.serverVersion && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"document-info-container\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Document Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), this.state.activeTab === 'FaceSDK' && /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"Footer\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"Footer-logo\",\n          src: comunica,\n          alt: \"Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this);\n  }\n}\nfunction mapStateToProps(state) {\n  return state;\n}\nexport default connect(mapStateToProps, {\n  initialize\n})(App);","map":{"version":3,"names":["React","Component","connect","initialize","comunica","defineComponents","DocumentReaderService","DocumentReaderApi","Result","Scenario","Source","TextFieldType","GraphicFieldType","Light","SecurityFeatureType","jsxDEV","_jsxDEV","PORTRAIT","DOCUMENT_FRONT","DOCUMENT_NUMBER","GIVEN_NAMES","SURNAME","regula_license","process","env","REACT_APP_REGULA_LICENSE","apiBasePath","REACT_APP_BASE_PATH","App","constructor","props","listener","event","detail","action","data","status","response","image_container","lowLvlResponse","ContainerList","List","RawImageContainer","image_format","format","image","api","basePath","setLicense","serverInfo","ping","request","images","ImageData","light","WHITE","page_idx","processParam","scenario","FULL_AUTH","resultTypeOutput","STATUS","AUTHENTICITY","TEXT","IMAGES","DOCUMENT_TYPE","DOCUMENT_TYPE_CANDIDATES","IMAGE_QUALITY","MRZ_TEXT","VISUAL_TEXT","BARCODE_TEXT","RFID_TEXT","VISUAL_GRAPHICS","BARCODE_GRAPHICS","RFID_GRAPHICS","LEXICAL_ANALYSIS","responseProcessed","convertUint8ArrayToBase64","uint8Array","binaryString","String","fromCharCode","apply","btoa","state","serverVersion","docOverallStatus","docNumberVisual","Name","LastName","docNumberMrz","docNumberVisualValidity","docNumberMrzValidity","docNumberMrzVisualMatching","documentImageBase64","portraitImageBase64","activeTab","bind","componentDidMount","componentDidUpdate","component","document","querySelector","addEventListener","render","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","setState","mapStateToProps"],"sources":["/Users/estebansamayoa/regula-integration/src/app.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { initialize } from './actions';\nimport comunica from './Comunica.png';\nimport './app.css';\nimport { defineComponents, DocumentReaderService } from '@regulaforensics/vp-frontend-document-components';\nimport { DocumentReaderApi, Result, Scenario, Source, TextFieldType, GraphicFieldType, Light, SecurityFeatureType } from '@regulaforensics/document-reader-webclient';\n\nconst { PORTRAIT, DOCUMENT_FRONT } = GraphicFieldType;\nconst { DOCUMENT_NUMBER, GIVEN_NAMES, SURNAME } = TextFieldType;\n\nconst regula_license = process.env.REACT_APP_REGULA_LICENSE;\nconst apiBasePath = process.env.REACT_APP_BASE_PATH;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      serverVersion: null,\n      docOverallStatus: null,\n      docNumberVisual: null,\n      Name: null,\n      LastName: null,\n      docNumberMrz: null,\n      docNumberVisualValidity: null,\n      docNumberMrzValidity: null,\n      docNumberMrzVisualMatching: null,\n      documentImageBase64: null,\n      portraitImageBase64: null,\n      activeTab: 'DocumentReader'\n    };\n    this.listener = this.listener.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.initialize();\n  }\n\n  componentDidUpdate() {\n    const component = document.querySelector('document-reader');\n\n    if (component) {\n      component.addEventListener('document-reader', this.listener);\n    }\n  }\n\n  listener = async (event) => {\n    if (event.detail.action === 'PROCESS_FINISHED' && event.detail.data.status === 1) {\n      const response = event.detail.data.response;\n      const image_container = response.lowLvlResponse.ContainerList.List[0].RawImageContainer;\n      const image_format = image_container.format;\n      const image = image_container.image;\n      const api = new DocumentReaderApi({ basePath: apiBasePath });\n\n      api.setLicense(regula_license);\n      const serverInfo = await api.ping();\n      const request = {\n        images: [\n          {\n            ImageData: image,\n            light: Light.WHITE,\n            page_idx: 0,\n          },\n        ],\n        processParam: {\n          scenario: Scenario.FULL_AUTH,\n          resultTypeOutput: [\n            // actual results\n            Result.STATUS,\n            Result.AUTHENTICITY,\n            Result.TEXT,\n            Result.IMAGES,\n            Result.DOCUMENT_TYPE,\n            Result.DOCUMENT_TYPE_CANDIDATES,\n            Result.IMAGE_QUALITY,\n            // legacy results\n            Result.MRZ_TEXT,\n            Result.VISUAL_TEXT,\n            Result.BARCODE_TEXT,\n            Result.RFID_TEXT,\n            Result.VISUAL_GRAPHICS,\n            Result.BARCODE_GRAPHICS,\n            Result.RFID_GRAPHICS,\n            Result.LEXICAL_ANALYSIS,\n          ],\n        },\n      };\n\n      const responseProcessed = await api.process(request);\n\n      // Process the response and set the state accordingly\n    }\n  };\n\n  convertUint8ArrayToBase64 = (uint8Array) => {\n    const binaryString = String.fromCharCode.apply(null, uint8Array);\n    return btoa(binaryString);\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <img className=\"App-logo\" src={comunica} alt=\"Logo\" />\n          <h1>ID Verification Demo</h1>\n        </div>\n        <div className=\"Tabs\">\n          <button onClick={() => this.setState({ activeTab: 'DocumentReader' })}>Document Reader</button>\n          <button onClick={() => this.setState({ activeTab: 'FaceSDK' })}>Face SDK</button>\n        </div>\n        {this.state.activeTab === 'DocumentReader' && (\n          <div>\n            <document-reader start-screen></document-reader>\n            {this.state.serverVersion && (\n              <div className=\"document-info-container\">\n                <h2>Document Information</h2>\n                {/* Render document information */}\n              </div>\n            )}\n          </div>\n        )}\n        {this.state.activeTab === 'FaceSDK' && (\n          <div>\n            {/* Render Face SDK component */}\n          </div>\n        )}\n        <footer className=\"Footer\">\n          <img className=\"Footer-logo\" src={comunica} alt=\"Logo\" />\n        </footer>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return state;\n}\n\nexport default connect(mapStateToProps, { initialize })(App);\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}